---
title: Catalogue produits
description: CrÃ©er la vue principale du catalogue avec grille de produits
sidebar:
  order: 2
---

import { Tabs, TabItem, Aside, Steps } from '@astrojs/starlight/components';

## ğŸ›’ Vue "Catalogue produits"

Nous allons crÃ©er la vue principale de la boutique, accessible Ã  `/shop`.

### Objectif final

Une page avec :
- Grille de produits (4 colonnes desktop)
- Filtres par catÃ©gorie, marque, prix
- Tri par date, prix, nom
- Pagination de 12 produits par page
- Compteur de rÃ©sultats

## ğŸ“ CrÃ©er la vue

<Steps>

1. Allez dans **Structure** â†’ **Views** â†’ **Add view**

2. Configuration initiale :

</Steps>

| Champ | Valeur |
|-------|--------|
| View name | `Catalogue Produits` |
| Machine name | `products_catalog` |
| Description | `Liste des produits de la boutique` |
| Show | `Content` |
| of type | `Product` |
| tagged with | *(vide)* |
| sorted by | `Newest first` |

### Display Page

| Champ | Valeur |
|-------|--------|
| â˜‘ Create a page | `Oui` |
| Page title | `Boutique` |
| Path | `/shop` |
| Display format | `Unformatted list` of `teasers` |
| Items per page | `12` |

3. Cliquez sur **Save and edit**

## âš™ï¸ Configurer le display Page

### Format : Grid responsive

1. Cliquez sur **Unformatted list** dans la section FORMAT
2. SÃ©lectionnez **Grid**
3. **Apply**

4. Cliquez sur **Settings** Ã  cÃ´tÃ© de Grid :

| ParamÃ¨tre | Valeur |
|-----------|--------|
| Number of columns | `4` |
| Alignment | `Horizontal` |
| Column class | `col` |
| Row class | `row` |

5. **Apply**

### Show : Rendered entity

1. Cliquez sur **Fields** (Ã  cÃ´tÃ© de Grid)
2. Changez pour **Rendered entity**
3. **Apply**

4. Cliquez sur **Settings** :

| ParamÃ¨tre | Valeur |
|-----------|--------|
| View mode | `Card` |

<Aside type="note" title="View Mode Card">
Assurez-vous d'avoir crÃ©Ã© le mode d'affichage "Card" dans l'Ã‰tape 2. Sinon, utilisez "Teaser".
</Aside>

5. **Apply**

### Filtres de base

VÃ©rifiez que ces filtres existent (ils devraient Ãªtre par dÃ©faut) :

1. Dans **Filter Criteria**, vous devriez voir :
   - **Content: Publishing status** = `Published` (Yes)
   - **Content: Content type** = `Product`

Si non, ajoutez-les avec **Add** :

```
Filter: Content: Publishing status
  Status: Published
  [x] Exposed: No
  
Filter: Content: Content type
  Content types: Product
  [x] Exposed: No
```

## ğŸ¯ Configuration avancÃ©e

### Header : Compteur de rÃ©sultats

1. Dans **Header**, cliquez sur **Add**
2. SÃ©lectionnez **Result summary**
3. Configurez :

| ParamÃ¨tre | Valeur |
|-----------|--------|
| Display | `Displaying @start - @end of @total` |

4. Personnalisez le texte :

```
Affichage de @start Ã  @end sur @total produits
```

5. **Apply**

### Pager : Pagination complÃ¨te

1. Cliquez sur le lien **Mini** dans PAGER
2. SÃ©lectionnez **Paged output, full pager**
3. **Apply**

4. Configurez les options :

| ParamÃ¨tre | Valeur |
|-----------|--------|
| Items per page | `12` |
| Offset | `0` |
| Link to more | `No` |

5. Dans **More pager options** :

| ParamÃ¨tre | Valeur |
|-----------|--------|
| Expose items per page | `No` |
| Pager ID | `0` |
| Tags â†’ First | `Â« Premier` |
| Tags â†’ Previous | `â€¹ PrÃ©cÃ©dent` |
| Tags â†’ Next | `Suivant â€º` |
| Tags â†’ Last | `Dernier Â»` |

6. **Apply**

### Tri par dÃ©faut

1. VÃ©rifiez les **Sort Criteria**
2. Gardez **Content: Authored on (DESC)**
3. Nous ajouterons le tri exposÃ© plus tard

### No Results Behavior

1. Dans **No Results Behavior**, cliquez sur **Add**
2. SÃ©lectionnez **Global: Text area**
3. Contenu :

```html
<div class="no-results">
  <h3>Aucun produit trouvÃ©</h3>
  <p>Essayez de modifier vos critÃ¨res de recherche.</p>
  <a href="/shop" class="btn">Voir tous les produits</a>
</div>
```

4. Format : **Full HTML** (ou Basic HTML)
5. **Apply**

## ğŸ“± Page Settings

1. Dans **Page Settings** :

| ParamÃ¨tre | Valeur |
|-----------|--------|
| Path | `/shop` |
| Menu | Normal menu entry |
| Menu link title | `Boutique` |
| Parent | `<Main navigation>` |
| Weight | `0` |

2. **Apply**

### Access

1. Cliquez sur **Access** â†’ **Permission**
2. Gardez **View published content**
3. **Apply**

## ğŸ¨ Classes CSS personnalisÃ©es

### Wrapper de la vue

1. Dans **Advanced** (colonne de droite), cliquez sur **CSS class**
2. Ajoutez : `products-catalog shop-grid`
3. **Apply**

### Row class

1. Dans **Format** â†’ **Grid** â†’ **Settings**
2. Row class : `products-row`
3. Column class : `product-col`

## ğŸ’¾ Sauvegarder et tester

1. Cliquez sur **Save**
2. Visitez `/shop` pour voir le rÃ©sultat

### AperÃ§u attendu

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       Boutique                          â”‚
â”‚        Affichage de 1 Ã  12 sur 15 produits             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ Prod 1 â”‚  â”‚ Prod 2 â”‚  â”‚ Prod 3 â”‚  â”‚ Prod 4 â”‚       â”‚
â”‚  â”‚  Nike  â”‚  â”‚ Adidas â”‚  â”‚  Puma  â”‚  â”‚ Levi's â”‚       â”‚
â”‚  â”‚ 119.99 â”‚  â”‚  35.99 â”‚  â”‚  69.99 â”‚  â”‚  89.99 â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ Prod 5 â”‚  â”‚ Prod 6 â”‚  â”‚ Prod 7 â”‚  â”‚ Prod 8 â”‚       â”‚
â”‚  â”‚  ...   â”‚  â”‚  ...   â”‚  â”‚  ...   â”‚  â”‚  ...   â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                         â”‚
â”‚        [Â« Premier] [â€¹ PrÃ©cÃ©dent] 1 2 [Suivant â€º]       â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”§ Alternative : Affichage par champs

Si vous prÃ©fÃ©rez un contrÃ´le total sur l'affichage :

<Tabs>
<TabItem label="Rendered Entity">
Utilise le view mode "Card" configurÃ© dans Manage display.
Avantage : CohÃ©rence, maintenance centralisÃ©e.
</TabItem>
<TabItem label="Fields">

1. Changez **Show** â†’ **Fields**
2. Supprimez les champs par dÃ©faut
3. Ajoutez manuellement :

| Champ | Label | Formatter |
|-------|-------|-----------|
| Content: Product Image | Hidden | Image (Card) |
| Content: Category | Hidden | Label |
| Content: Title | Hidden | Link to content |
| Content: Brand | Hidden | Label |
| Content: Price | Hidden | Default |

4. Pour chaque champ, configurez le wrapper et les classes CSS

Avantage : FlexibilitÃ© totale.
InconvÃ©nient : Plus de maintenance.

</TabItem>
</Tabs>

## ğŸ“¤ Export de configuration

```bash
# Exporter la vue
drush cex -y

# VÃ©rifier le fichier crÃ©Ã©
cat config/sync/views.view.products_catalog.yml | head -50
```

## ğŸ¯ CrÃ©er le display Block

Ajoutons un bloc "Produits rÃ©cents" pour la sidebar.

1. Dans l'interface Views, cliquez sur **+Add** dans les displays
2. SÃ©lectionnez **Block**
3. Configurez :

| ParamÃ¨tre | Valeur |
|-----------|--------|
| Display name | `Block - Produits rÃ©cents` |
| Block admin title | `Produits rÃ©cents` |

4. **Override** les paramÃ¨tres suivants :

- **Title** : `NouveautÃ©s`
- **Format** : `Unformatted list` of `Rendered entity`
- **View mode** : `Mini` (ou Teaser)
- **Pager** : `Display a specified number of items` : `4`

5. **Save**

### Placer le bloc

1. **Structure** â†’ **Block layout**
2. Dans la rÃ©gion **Sidebar first**, cliquez **Place block**
3. Cherchez "Produits rÃ©cents"
4. Configurez la visibilitÃ© si nÃ©cessaire
5. **Save block**

## âœ… Checklist

Avant de continuer :

- [ ] Vue `products_catalog` crÃ©Ã©e
- [ ] Page accessible Ã  `/shop`
- [ ] Grille 4 colonnes
- [ ] Compteur de rÃ©sultats dans le header
- [ ] Pagination avec labels franÃ§ais
- [ ] Message "Aucun produit" configurÃ©
- [ ] Lien dans le menu principal
- [ ] (Optionnel) Bloc "Produits rÃ©cents" crÃ©Ã©

## ğŸ”œ Prochaine Ã©tape

Le catalogue est fonctionnel ! Ajoutons les [Filtres exposÃ©s](/etape-4-vues/filtres-exposes/) pour permettre aux utilisateurs de filtrer les produits.
