---
title: Pathauto
description: G√©n√©rer automatiquement des URLs propres et SEO-friendly
sidebar:
  order: 2

# status: stable
# last-reviewed: 2026-01-14
---

import { Tabs, TabItem, Aside, Steps } from '@astrojs/starlight/components';

## üéØ Qu'est-ce que Pathauto ?

**Pathauto** g√©n√®re automatiquement des alias d'URL pour le contenu :

| Sans Pathauto | Avec Pathauto |
|---------------|---------------|
| `/node/42` | `/produits/t-shirt-blanc` |
| `/taxonomy/term/5` | `/categories/vetements` |
| `/user/1` | `/utilisateurs/admin` |

## üì¶ Installation

```bash
# Installer (inclut Token comme d√©pendance)
ddev composer require drupal/pathauto

# Activer
ddev drush en pathauto -y
```

## ‚öôÔ∏è Configuration

### Acc√®s √† la configuration

**Configuration** ‚Üí **Recherche et m√©tadonn√©es** ‚Üí **Alias d'URL** ‚Üí **Mod√®les**

Ou directement : `/admin/config/search/path/patterns`

### Cr√©er un mod√®le pour les produits

<Steps>

1. **Ajouter un mod√®le**

   Cliquez sur **+ Ajouter un mod√®le Pathauto**

2. **Configurer le mod√®le**

   - **Type de mod√®le** : Contenu
   - **Type de contenu** : Produit
   - **Libell√©** : Produits
   - **Mod√®le de chemin** : `produits/[node:title]`

3. **Sauvegarder**

</Steps>

## üè∑Ô∏è Tokens disponibles

### Tokens de base

| Token | Description | Exemple |
|-------|-------------|---------|
| `[node:title]` | Titre du contenu | `t-shirt-blanc` |
| `[node:nid]` | ID du node | `42` |
| `[node:created:custom:Y]` | Ann√©e cr√©ation | `2025` |
| `[node:author:name]` | Auteur | `admin` |

### Tokens de taxonomie

| Token | Description | Exemple |
|-------|-------------|---------|
| `[node:field_category:entity:name]` | Nom cat√©gorie | `vetements` |
| `[node:field_brand:entity:name]` | Nom marque | `nike` |
| `[term:name]` | Nom du terme | `accessoires` |
| `[term:parent:name]` | Terme parent | `mode` |

### Voir tous les tokens

Cliquez sur **Parcourir les jetons disponibles** dans le formulaire de mod√®le.

## üìã Mod√®les TailStore

### Produits

```
produits/[node:field_category:entity:name]/[node:title]
```

R√©sultat : `/produits/vetements/t-shirt-blanc`

### Articles de blog

```
blog/[node:created:custom:Y]/[node:created:custom:m]/[node:title]
```

R√©sultat : `/blog/2025/01/nouvel-article`

### Cat√©gories (taxonomie)

```
categories/[term:parent:name]/[term:name]
```

R√©sultat : `/categories/mode/vetements`

Ou plus simple :

```
categories/[term:name]
```

### Marques

```
marques/[term:name]
```

R√©sultat : `/marques/nike`

## üîß Param√®tres avanc√©s

### Configuration g√©n√©rale

**Configuration** ‚Üí **Recherche et m√©tadonn√©es** ‚Üí **Alias d'URL** ‚Üí **Param√®tres**

#### S√©parateur de mots

```
Caract√®re √† utiliser : -
```

#### Casse

```
Transformer en minuscules : Oui
```

#### Ponctuation

| Caract√®re | Action |
|-----------|--------|
| `/` | Aucune action |
| `:` | Supprimer |
| `'` | Supprimer |
| `?` | Supprimer |
| `#` | Supprimer |

### Caract√®res translitt√©r√©s

Transformations automatiques :

| Original | R√©sultat |
|----------|----------|
| `√©` | `e` |
| `√†` | `a` |
| `√ß` | `c` |
| `√º` | `u` |

## üîÑ G√©n√©ration en masse

### G√©n√©rer les alias existants

**Configuration** ‚Üí **Recherche et m√©tadonn√©es** ‚Üí **Alias d'URL** ‚Üí **Mise √† jour en masse**

<Steps>

1. S√©lectionner le type de contenu
2. Cocher **R√©g√©n√©rer les alias**
3. Cliquer sur **Mettre √† jour**

</Steps>

### Avec Drush

```bash
# G√©n√©rer tous les alias
ddev drush pathauto:aliases-generate all

# G√©n√©rer pour un type sp√©cifique
ddev drush pathauto:aliases-generate node

# G√©n√©rer pour les termes
ddev drush pathauto:aliases-generate taxonomy_term
```

## üìù Alias manuels

### D√©sactiver pour un contenu

Dans le formulaire d'√©dition du contenu :

1. Ouvrir **Param√®tres du chemin d'URL**
2. D√©cocher **G√©n√©rer un alias automatique**
3. Saisir l'alias manuellement

### Priorit√©

1. Alias manuel (si d√©fini)
2. Alias Pathauto (si mod√®le existe)
3. Alias syst√®me (`/node/42`)

## üîÄ Module Redirect

Installez **Redirect** pour g√©rer les anciennes URLs :

```bash
ddev composer require drupal/redirect
ddev drush en redirect -y
```

### Redirection automatique

Quand un titre change :

- Ancien : `/produits/tshirt-blanc`
- Nouveau : `/produits/t-shirt-blanc-premium`

Redirect cr√©e automatiquement une redirection 301.

### Configuration

**Configuration** ‚Üí **Recherche et m√©tadonn√©es** ‚Üí **Redirections**

| Option | Valeur recommand√©e |
|--------|-------------------|
| Auto-redirect | Activ√© |
| Code HTTP | 301 (permanent) |
| Conserver anciennes URLs | Oui |

## üß™ Debug

### Voir les alias d'un contenu

```bash
ddev drush path:alias /node/42
```

### Lister tous les alias

```bash
ddev drush sqlq "SELECT * FROM path_alias"
```

### Probl√®mes courants

<Tabs>
<TabItem label="Alias non g√©n√©r√©">

**Cause** : Pas de mod√®le correspondant

**Solution** :
1. V√©rifier le mod√®le existe
2. V√©rifier le type de contenu s√©lectionn√©
3. Vider le cache

</TabItem>
<TabItem label="Caract√®res sp√©ciaux">

**Cause** : Ponctuation non configur√©e

**Solution** :
1. **Param√®tres** ‚Üí **Ponctuation**
2. Configurer chaque caract√®re
3. R√©g√©n√©rer les alias

</TabItem>
<TabItem label="Alias dupliqu√©s">

**Cause** : M√™me titre pour plusieurs contenus

**Solution** :
1. Ajouter `[node:nid]` au mod√®le
2. Ou utiliser des champs uniques

```
produits/[node:field_sku]/[node:title]
```

</TabItem>
</Tabs>

## üìä Mod√®les complets TailStore

### Tous les mod√®les

| Type | Mod√®le | Exemple |
|------|--------|---------|
| Produit | `boutique/[node:field_category:entity:name]/[node:title]` | `/boutique/vetements/t-shirt` |
| Article | `blog/[node:created:custom:Y-m]/[node:title]` | `/blog/2025-01/article` |
| Cat√©gorie | `categories/[term:name]` | `/categories/vetements` |
| Marque | `marques/[term:name]` | `/marques/nike` |
| Couleur | `couleurs/[term:name]` | `/couleurs/bleu` |
| Taille | `tailles/[term:name]` | `/tailles/xl` |

### Configuration recommand√©e

```yaml
# Param√®tres g√©n√©raux
separator: "-"
case: lowercase
max_length: 100
transliterate: true
reduce_ascii: true
```

## ‚úÖ Checklist

- [ ] Pathauto install√© et activ√©
- [ ] Token install√© (d√©pendance)
- [ ] Mod√®le cr√©√© pour chaque type de contenu
- [ ] Mod√®le cr√©√© pour les taxonomies
- [ ] Translitt√©ration configur√©e
- [ ] Redirect install√© (optionnel mais recommand√©)
- [ ] Alias existants g√©n√©r√©s
- [ ] Test√© avec des contenus r√©els

## üõ†Ô∏è Erreurs courantes et solutions

### Erreur : "Alias already exists"

**Cause** : Deux contenus g√©n√®rent le m√™me alias (ex: m√™me titre)

**Solutions** :
```
# Option 1 : Ajouter l'ID au mod√®le
produits/[node:field_category:entity:name]/[node:title]-[node:nid]

# Option 2 : Utiliser un champ unique (SKU)
produits/[node:field_sku]

# Option 3 : Ajouter un num√©ro auto-incr√©ment (Pathauto le fait automatiquement)
```

### Probl√®me : Caract√®res accentu√©s non transform√©s

**Solution** : V√©rifier les param√®tres de translitt√©ration
```bash
# V√©rifier la config
ddev drush config-get pathauto.settings transliterate

# Doit √™tre TRUE
```

### Alias non g√©n√©r√©s automatiquement

**Causes possibles** :
1. Pas de mod√®le pour ce type de contenu
2. Case "G√©n√©rer automatiquement" d√©coch√©e dans le formulaire
3. Cache √† vider

**Solution** :
```bash
ddev drush cr
ddev drush pathauto:aliases-generate all
```

<Aside type="tip" title="Bonnes pratiques SEO">
**Longueur d'URL** : Gardez vos URLs < 80 caract√®res pour le SEO

**Hi√©rarchie claire** : Utilisez une structure logique
- ‚úÖ `/boutique/vetements/t-shirts/t-shirt-blanc`
- ‚ùå `/produits/node-42`

**Mots-cl√©s** : Int√©grez des mots-cl√©s pertinents dans vos URLs

**Stabilit√©** : Une fois en production, √©vitez de changer les mod√®les Pathauto (utilisez Redirect pour g√©rer les anciennes URLs)
</Aside>

## üîß Maintenance

### Audit des alias

```bash
# Compter les alias g√©n√©r√©s
ddev drush sqlq "SELECT COUNT(*) as total FROM path_alias"

# Voir les alias orphelins (contenu supprim√©)
ddev drush sqlq "SELECT * FROM path_alias WHERE path NOT IN (SELECT CONCAT('/node/', nid) FROM node)"

# Nettoyer les alias orphelins
ddev drush pathauto:aliases-delete all
ddev drush pathauto:aliases-generate all
```

### Performance

Pour les sites avec des milliers de contenus :
```bash
# G√©n√©rer par batch de 50
ddev drush pathauto:aliases-generate node --batch-size=50
```

## üîú Prochaine √©tape

URLs propres en place ! Optimisons le SEO avec [Metatag](/etape-7-modules/metatag/).
